---
import waterVideo from '../assets/videos/water-boomerang-alpha.webm';
---

<div class="water-banner-container absolute top-24 left-0 w-full overflow-hidden pointer-events-none z-0" aria-hidden="true">
  <video
    autoplay
    loop
    muted
    playsinline
    class="water-video w-full h-full object-fill"
    style={{ objectPosition: "50% 10%" }}
  >
    <source src={waterVideo} type="video/webm" />
  </video>
</div>

<style>
  .water-banner-container {
    /* Adjusted height: slightly larger minimum to avoid "thin strip" blurry look */
    height: clamp(250px, 30vh, 450px);
    background: transparent;
    
    /* 
       Mask the bottom edge to fade into transparency.
       Fade starts at 40% down.
    */
    mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
  }

  .water-video {
    /*
      Video now has true transparency (alpha channel).
      No need for mix-blend-mode or contrast hacks.
    */
    background: transparent;
    opacity: 0.8; /* Slight opacity to blend nicely if needed, or 1.0 */
  }

  /* 
     Dark Mode Strategy:
     No changes needed as the video is transparent.
  */

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .water-banner-container {
      display: none;
    }
  }

  :global(:root[data-space-nerd="stars"]) .water-banner-container {
    opacity: 0;
    visibility: hidden;
  }
</style>
